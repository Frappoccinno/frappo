<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Savings Tracker</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header style="padding: 0;">
        <nav class="nav-for-content">
            <!-- Hamburger Menu Button (Mobile Only) -->
            <button class="hamburger-btn-content" id="hamburgerBtnContent">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <!-- Navigation Links (Desktop and Mobile) -->
            <ul class="nav-links-content" id="navLinksContent">
                <li><a href="#home">Home</a></li>
                <li><a href="transfer.html">Transfer</a></li>
                <li><a href="#savings">Savings</a></li>
                <li><a href="#fxrates">FX Rates</a></li>
                <li><a href="#history">Transaction History</a></li>
                <li><a href="index.html">Log Out</a></li>
            </ul>
            
            <!-- Profile Picture (Right Aligned) -->
            <div class="nav-profile-pic">
                <div class="nav-profile-frame" aria-hidden="true">
                    <img src="kermit.jpg" alt="Profile Picture">
                </div>
            </div>
        </nav>
    </header>
    <main>
        <div class="greeting-section">
            <p>Hi, Ryan Paevey & Claire Mandala</p>
        </div>
        <section id="fxrates" class="fx-rates">
            <div class="fx-rates-header">
                <h2>FX RATES</h2>
                <button class="refresh-btn" id="refreshBtn" title="Refresh rates">
                    <i class="fas fa-sync-alt"></i>
                </button>
            </div>
            <div class="fx-rates-container">
                <div class="fx-rate-item">
                    <div class="fx-currency">EUR</div>
                    <div class="fx-currency-name">Euro</div>
                    <div class="fx-value">$<span class="rate-eur">0.00</span></div>
                </div>
                <div class="fx-rate-item">
                    <div class="fx-currency">GBP</div>
                    <div class="fx-currency-name">British Pound</div>
                    <div class="fx-value">$<span class="rate-gbp">0.00</span></div>
                </div>
                <div class="fx-rate-item">
                    <div class="fx-currency">JPY</div>
                    <div class="fx-currency-name">Japanese Yen</div>
                    <div class="fx-value">$<span class="rate-jpy">0.00</span></div>
                </div>
                <div class="fx-rate-item">
                    <div class="fx-currency">CAD</div>
                    <div class="fx-currency-name">Canadian Dollar</div>
                    <div class="fx-value">$<span class="rate-cad">0.00</span></div>
                </div>
                <div class="fx-rate-item">
                    <div class="fx-currency">AUD</div>
                    <div class="fx-currency-name">Australian Dollar</div>
                    <div class="fx-value">$<span class="rate-aud">0.00</span></div>
                </div>
                <div class="fx-rate-item">
                    <div class="fx-currency">CNY</div>
                    <div class="fx-currency-name">Chinese Yuan</div>
                    <div class="fx-value">$<span class="rate-cny">0.00</span></div>
                </div>
                <div class="fx-rate-item">
                    <div class="fx-currency">MXN</div>
                    <div class="fx-currency-name">Mexican Peso</div>
                    <div class="fx-value">$<span class="rate-mxn">0.00</span></div>
                </div>
                <div class="fx-rate-item">
                    <div class="fx-currency">CHF</div>
                    <div class="fx-currency-name">Swiss Franc</div>
                    <div class="fx-value">$<span class="rate-chf">0.00</span></div>
                </div>
            </div>
        </section>
        <section id="savings" class="savings">
            <div class="balance">
                <p><b>Account Balance</b></p>
                <h2>$<span id="total-savings">31,272.00</span></h2>
                <p1>Interest rate: + 20% per deposit</p1>
                <h4>Total Deposit: $<span id="total-roi">26,060.00</span></h4>
            </div>
            <div class="your-card-section">
                <h3>Your Card</h3>
                <div class="card-container">
                    <div class="mastercard">
                        <div class="card-header">
                            <span class="card-brand">FW JEWELRY</span>
                            <div class="card-type">
                                <p>Mastercard</p>
                            </div>
                        </div>
                        <div class="card-chip"></div>
                        <div class="card-number">
                            <span>****</span>
                            <span>****</span>
                            <span>****</span>
                            <span>6436</span>
                        </div>
                        <div class="card-footer">
                            <div class="card-holder">
                                <div class="label">Card Holder</div>
                                <div class="name">Claire Mandala</div>
                            </div>
                            <div class="card-expires">
                                <div class="label">Expires</div>
                                <div class="date">12/30</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-credit-info">
                    <div class="available-credit">
                        <div class="credit-label">Available Credit</div>
                        <div class="credit-amount">$5,000.00</div>
                    </div>
                    <div class="credit-bar"></div>
                    <div class="credit-limit">
                        <div class="limit-label">Credit Limit</div>
                        <div class="limit-amount">$5,000.00</div>
                    </div>
                </div>
            </div>
            <section id="history" class="transaction-history">
                <div class="transaction-history-header"><h2>Transaction History </h2><span id="see-all">See all</span></div>
                <ul id="transactions">
                    <!-- Add more transactions here -->
                </ul>
            </section>
        </section>
    </main>
    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-left">
                <h4>Fortunate Wanderer Jewelry</h4>
                <p class="footer-tagline">Crafted for lasting value — helping you save with style.</p>
            </div>
            <div class="footer-right">
                <p>Contact: <a href="mailto:info@fortunatewanderer.com">info@fortunatewanderer.com</a></p>
                <p><a href="#">Terms</a> · <a href="#">Privacy</a> · <a href="#">Support</a></p>
            </div>
        </div>
        <div class="footer-bottom">
            <small>&copy; 2025 Fortunate Wanderer. All rights reserved.</small>
        </div>
    </footer>
    
    <script>
        const transactions = [
            { date: '08-21-2024', amount: '+$1,100.00', description: 'Deposit', name: 'Ryan Paevey' },
            { date: '09-14-2024', amount: '+$1,200.00', description: 'Deposit', name: 'Ryan Paevey' },
            { date: '10-06-2024', amount: '+$2,500.00', description: 'Deposit', name: 'Ryan Paevey' },
            { date: '11-29-2024', amount: '+$800.00', description: 'Deposit', name: 'Ryan Paevey' },
            { date: '12-18-2024', amount: '+$1,100.00', description: 'Deposit', name: 'Ryan Paevey' },
            { date: '01-20-2025', amount: '+$9,560.00', description: 'Deposit', name: 'Ryan Paevey' },
            { date: '03-16-2025', amount: '+$2,500.00', description: 'Deposit', name: 'Ryan Paevey' },
            { date: '05-22-2025', amount: '+$600.00', description: 'Deposit', name: 'Ryan Paevey' },
            { date: '07-10-2025', amount: '+$4,200.00', description: 'Deposit', name: 'Ryan Paevey' },
            { date: '24-10-2025', amount: '+$2,500.00', description: 'Deposit', name: 'Ryan Paevey' }
        ];
        
        const transactionList = document.getElementById('transactions');
        const seeAllButton = document.getElementById('see-all');
        
        let showAll = false;
        
        function renderTransactions() {
            transactionList.innerHTML = '';
            const transactionsToDisplay = showAll ? transactions : transactions.slice(-3);
            transactionsToDisplay.forEach((transaction) => {
                const listItem = document.createElement('li');
                listItem.className = 'transaction-item';

                // Left column: description above date
                const left = document.createElement('div');
                left.className = 'transaction-left';

                const descEl = document.createElement('div');
                descEl.className = 'transaction-description';
                descEl.textContent = transaction.description || '';

                const dateElement = document.createElement('div');
                dateElement.className = 'transaction-date';
                dateElement.textContent = transaction.date;

                left.appendChild(descEl);
                left.appendChild(dateElement);

                // Right column: amount
                const right = document.createElement('div');
                right.className = 'transaction-right';

                const amountElement = document.createElement('div');
                amountElement.className = 'amount';
                amountElement.textContent = transaction.amount;

                const accountName = document.createElement('div');
                accountName.className = 'account-name';
                accountName.textContent = transaction.name; 

                right.appendChild(amountElement);
                right.appendChild(accountName);

                listItem.appendChild(left);
                listItem.appendChild(right);
                transactionList.appendChild(listItem);
            });
        }
        
        seeAllButton.addEventListener('click', () => {
            showAll = !showAll;
            renderTransactions();
        });
        
        renderTransactions();
    </script>
    
    <script>
        // ===== FX RATES FUNCTIONALITY =====
        const currencies = ['EUR', 'GBP', 'JPY', 'CAD', 'AUD', 'CNY', 'MXN', 'CHF'];
        const refreshBtn = document.getElementById('refreshBtn');
        
        // Function to fetch live FX rates
        async function fetchFXRates() {
            try {
                // Using exchangerate-api.com free API (no key required for basic usage)
                // This API converts from USD to other currencies
                const response = await fetch('https://api.exchangerate-api.com/v4/latest/USD');
                
                if (!response.ok) throw new Error('Failed to fetch rates');
                
                const data = await response.json();
                const rates = data.rates;
                
                // Update each currency display
                if (rates.EUR) document.querySelector('.rate-eur').textContent = rates.EUR.toFixed(2);
                if (rates.GBP) document.querySelector('.rate-gbp').textContent = rates.GBP.toFixed(2);
                if (rates.JPY) document.querySelector('.rate-jpy').textContent = rates.JPY.toFixed(2);
                if (rates.CAD) document.querySelector('.rate-cad').textContent = rates.CAD.toFixed(2);
                if (rates.AUD) document.querySelector('.rate-aud').textContent = rates.AUD.toFixed(2);
                if (rates.CNY) document.querySelector('.rate-cny').textContent = rates.CNY.toFixed(2);
                if (rates.MXN) document.querySelector('.rate-mxn').textContent = rates.MXN.toFixed(2);
                if (rates.CHF) document.querySelector('.rate-chf').textContent = rates.CHF.toFixed(2);
                
                // Add spin animation to refresh button
                refreshBtn.classList.add('spinning');
                setTimeout(() => refreshBtn.classList.remove('spinning'), 600);
                
            } catch (error) {
                console.error('Error fetching FX rates:', error);
                alert('Unable to fetch FX rates. Please try again.');
            }
        }
        
        // Fetch rates on page load
        fetchFXRates();
        
        // Add click listener to refresh button
        refreshBtn.addEventListener('click', fetchFXRates);
        
        // Refresh rates every 5 minutes (300000ms)
        setInterval(fetchFXRates, 300000);
    </script>
    
    <script>
        // ===== CONTENT PAGE HAMBURGER MENU =====
        const hamburgerBtnContent = document.getElementById('hamburgerBtnContent');
        const navLinksContent = document.getElementById('navLinksContent');
        const navForContent = document.querySelector('.nav-for-content');
        
        // Toggle mobile menu
        hamburgerBtnContent.addEventListener('click', () => {
            hamburgerBtnContent.classList.toggle('active');
            navLinksContent.classList.toggle('active');
            navForContent.classList.toggle('menu-open');
        });
        
        // Close mobile menu when a link is clicked
        document.querySelectorAll('.nav-links-content a').forEach(link => {
            link.addEventListener('click', () => {
                hamburgerBtnContent.classList.remove('active');
                navLinksContent.classList.remove('active');
                navForContent.classList.remove('menu-open');
            });
        });
        
        // Close mobile menu when clicking on the overlay
        navForContent.addEventListener('click', (e) => {
            if (e.target === navForContent && navForContent.classList.contains('menu-open')) {
                hamburgerBtnContent.classList.remove('active');
                navLinksContent.classList.remove('active');
                navForContent.classList.remove('menu-open');
            }
        });
    </script>